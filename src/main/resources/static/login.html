<head>
    <link href='/stylesheets/app.css' rel="stylesheet">
    <meta name='viewport' content="width=device-width, initial-scale=0.5">
    <title>Chronicle Companion</title>
</head>
<body>
<div id='container'>
    <div id='login__wrapper'>
        <div>
            <form action="/login" method="post">
                <label for="username">User</label>
                <input type='text' name='username' id='username'/>
                <label for="password">Password</label>
                <input type='password' name='password' id='password'/>
                <div id="password-confirm__wrapper" class="hidden">
                    <label for="password-confirm">Password</label>
                    <input type='password' name='password-confirm' id='password-confirm'/>
                </div>
                <div>
                    <button type='button' id='register-toggle' onclick="registerHandler()">Register</button>
                    <button type='button' id='login-toggle' onclick="loginHandler()">Login</button>
                    <button type="submit">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
<script>
    if (window.location.href.includes("?failure")) {
        document.getElementById('username').classList.add('error');
        document.getElementById('password').classList.add('error');
    }

    function registerHandler() {
        document.getElementById('register-toggle').classList.add('hidden');
        document.getElementById('login-toggle').classList.remove('hidden');
        document.getElementById('password-confirm__wrapper').classList.remove('hidden');
        return false;
    }
    function loginHandler() {
        document.getElementById('register-toggle').classList.remove('hidden');
        document.getElementById('login-toggle').classList.add('hidden');
        document.getElementById('password-confirm__wrapper').classList.add('hidden');
        return false;
    }
</script>